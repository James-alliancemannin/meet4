<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>meet4 — Real hangs, right nearby</title>
  <meta name="description" content="Host or join small, casual meetups in your neighborhood. Coffee, walks, games, workouts — no pressure, just people showing up." />
  
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#10b981',
            primaryDark: '#059669',
            accent: '#22c55e',
            accentSoft: '#ecfdf5',
            neutral: '#f8fafc',
            textDark: '#111827',
            textMuted: '#6b7280',
          }
        }
      }
    }
  </script>

  <!-- Inter font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <!-- Supabase JS client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    body { font-family: 'Inter', system-ui, sans-serif; }
    #splash {
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: #111827;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.8s ease-out;
      cursor: pointer;
    }
    #splash.hidden {
      opacity: 0;
      pointer-events: none;
    }
    #splash video {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  </style>
</head>

<body class="bg-neutral text-textDark antialiased">

  <!-- Splash screen / intro video -->
  <div id="splash">
    <video 
      id="introVideo"
      autoplay 
      muted 
      playsinline 
      playbackRate="0.5"
    >
      <source src="meet4.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <!-- Main content -->
  <div id="main-content" class="hidden">

    <!-- Hero -->
    <header class="relative bg-white">
      <div class="max-w-7xl mx-auto px-6 py-24 md:py-32 lg:py-40 text-center">
        <img 
          src="logo.jpg" 
          alt="meet4 logo" 
          class="mx-auto h-64 md:h-80 lg:h-96 w-auto mb-10 object-contain"
        />
        
        <p class="text-xl md:text-2xl lg:text-3xl text-textMuted max-w-4xl mx-auto leading-relaxed font-medium">
          Casual hangouts happening near you — right now.
        </p>
        <p class="mt-6 text-lg md:text-xl text-textMuted max-w-3xl mx-auto">
          Walks, coffee runs, board games, park workouts, quiet reading spots. 
          Small groups, real people, zero pressure. Just show up and see who’s around.
        </p>

        <div class="mt-12 flex flex-col sm:flex-row justify-center gap-5">
          <a href="#get-started" 
             class="inline-flex items-center px-10 py-5 bg-primary text-white font-semibold rounded-xl hover:bg-primaryDark transition shadow-lg hover:shadow-xl text-xl">
            Find hangs near me →
          </a>
          <a href="#get-started" 
             class="inline-flex items-center px-10 py-5 border-2 border-primary text-primary font-semibold rounded-xl hover:bg-accentSoft transition text-xl">
            Host something simple
          </a>
        </div>
      </div>
    </header>

    <!-- Sign-up Form -->
    <section class="py-16 bg-white">
      <div class="max-w-md mx-auto px-6">
        <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200">
          <h3 class="text-2xl font-bold text-center mb-6">Join the beta now</h3>
          <p class="text-center text-textMuted mb-8">
            Create an account today — even in early beta, you'll be first to access real local hangs.
          </p>

          <form id="signup-form" onsubmit="event.preventDefault(); signUp();">
            <div class="mb-5">
              <label for="email" class="block text-sm font-medium text-textMuted mb-2">Email</label>
              <input 
                type="email" 
                id="email" 
                required 
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                placeholder="you@example.com"
              />
            </div>
            <div class="mb-6">
              <label for="password" class="block text-sm font-medium text-textMuted mb-2">Password</label>
              <input 
                type="password" 
                id="password" 
                required 
                minlength="6"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                placeholder="At least 6 characters"
              />
            </div>
            <button 
              type="submit"
              class="w-full py-4 bg-primary text-white font-semibold rounded-xl hover:bg-primaryDark transition shadow-lg text-lg"
            >
              Create account
            </button>
          </form>

          <p id="success-message" style="display:none;" class="text-center text-green-600 mt-6 font-medium text-lg">
            Check your email to confirm your account!
          </p>
          <p id="error-message" style="display:none;" class="text-center text-red-600 mt-4 text-sm"></p>

          <p class="text-center text-sm text-textMuted mt-6">
            Already have an account? <a href="#" class="text-primary hover:underline">Log in</a> (coming soon)
          </p>
        </div>
      </div>
    </section>

    <!-- Pain points, Features, CTA, Footer unchanged -->
    <!-- ... paste your existing sections here if needed ... -->

  </div>

  <!-- JavaScript: Supabase + improved splash -->
  <script>
    // === Supabase Config ===
    const SUPABASE_URL = 'https://your-project-ref.supabase.co';      // ← REPLACE
    const SUPABASE_ANON_KEY = 'your-anon-public-key';                // ← REPLACE

    const supabase = Supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // Sign-up function (unchanged)
    async function signUp() {
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      const errorEl = document.getElementById('error-message');
      const successEl = document.getElementById('success-message');
      const form = document.getElementById('signup-form');

      errorEl.style.display = 'none';
      successEl.style.display = 'none';

      if (!email || !password) {
        errorEl.textContent = 'Please enter email and password';
        errorEl.style.display = 'block';
        return;
      }

      const { data, error } = await supabase.auth.signUp({
        email,
        password,
        options: {
          emailRedirectTo: window.location.origin + '/landing/'
        }
      });

      if (error) {
        errorEl.textContent = error.message || 'Sign up failed — try again';
        errorEl.style.display = 'block';
        console.error(error);
      } else {
        form.style.display = 'none';
        successEl.style.display = 'block';
      }
    }

    // === Improved Splash Control ===
    const splash = document.getElementById('splash');
    const mainContent = document.getElementById('main-content');
    const video = document.getElementById('introVideo');

    function closeSplash() {
      console.log('Closing splash');
      if (splash) splash.classList.add('hidden');
      if (mainContent) mainContent.classList.remove('hidden');
      if (video) video.pause();
    }

    if (video) {
      video.onended = () => {
        console.log('Video ended');
        closeSplash();
      };

      // Fallback: close after estimated duration + buffer
      video.addEventListener('loadedmetadata', () => {
        const duration = video.duration || 10;
        setTimeout(() => {
          if (!splash.classList.contains('hidden')) {
            console.log('Video duration fallback');
            closeSplash();
          }
        }, (duration * 1000) + 3000);
      });

      // Also listen for timeupdate as backup
      video.addEventListener('timeupdate', () => {
        if (video.currentTime >= video.duration - 0.5) {
          console.log('Timeupdate near end');
          closeSplash();
        }
      });
    }

    // Click to skip
    if (splash) {
      splash.addEventListener('click', () => {
        console.log('Click skip');
        closeSplash();
      });
    }

    // Key press to skip
    document.addEventListener('keydown', (e) => {
      if (!splash.classList.contains('hidden')) {
        console.log('Key skip');
        closeSplash();
      }
    });

    // Ultimate fallback: 20 seconds max
    setTimeout(() => {
      if (!splash.classList.contains('hidden')) {
        console.log('Ultimate fallback');
        closeSplash();
      }
    }, 20000);

    // nudge
  </script>

<!-- nudge -->

</body>
</html>
